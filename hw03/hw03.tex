\documentclass{article}

\usepackage{extramarks}

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{listings}

\usepackage{biblatex}
\addbibresource{bibliography.bib}

\usepackage{hyperref}

\usepackage{tikz}

\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[shortlabels]{enumitem}

\usepackage{float,graphicx}

\usepackage{pgfplots}

\usepackage{adjustbox}


\usepackage{array}
\usepackage{pgfgantt}

\usepackage[utf8]{inputenc}

\usepackage{fancyhdr}
\usepackage{fancybox}

\topmargin=-0.45in
\evensidemargin=0in
\oddsidemargin=0in
\textwidth=6.5in
\textheight=9.0in
\headsep=0.25in

% Listings' Styles

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.96,0.96,0.96}


\lstdefinestyle{python}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
 
\lstset{style=python}
\lstset{language=Python}

\linespread{1.1}
\captionsetup[table]{position=bottom}

\pagestyle{fancy}
\lhead{\groupName}
\chead{\hmwkClass: \hmwkTitle}
\rhead{\today}
\lfoot{\lastxmark}
\cfoot{\thepage}

\renewcommand\headrulewidth{0.4pt}
\renewcommand\footrulewidth{0.4pt}
\renewcommand\qedsymbol{$\blacksquare$}

\setlength\parindent{0pt}

\newcommand{\hmwkTitle}{Assignment Sheet\ \#\hmwkNumber}
\newcommand{\hmwkDueDate}{March 1, 2022}
\newcommand{\hmwkClass}{Machine Learning}
\newcommand{\hmwkAuthorName}{Henri Sota, Enis Mustafaj}
\newcommand{\groupName}{\textbf{Group HB}}

% Homework Number Variable
\newcommand{\hmwkNumber}{3}

%
% Create Problem Sections
%

\newcommand{\enterProblemHeader}[1]{
    \nobreak{}
}

\newcommand{\exitProblemHeader}[1]{
    \stepcounter{#1}
}

\setcounter{secnumdepth}{0}
\newcounter{partCounter}
\newcounter{homeworkProblemCounter}

\setcounter{homeworkProblemCounter}{1}
\nobreak\extramarks{Problem \hmwkNumber \arabic{homeworkProblemCounter}}{}\nobreak{}

%
% Homework Problem Environment
%
% This environment takes an optional argument. When given, it will adjust the
% problem counter. This is useful for when the problems given for your
% assignment aren't sequential. See the last 3 problems of this template for an
% example.
%
\newenvironment{homeworkProblem}[1][-1]{
    \ifnum#1>0
        \setcounter{homeworkProblemCounter}{\hmwkNumber.#1}
    \fi
    \section{Problem \hmwkNumber.\arabic{homeworkProblemCounter}}
    \setcounter{partCounter}{1}
    \enterProblemHeader{homeworkProblemCounter}
}{
    \exitProblemHeader{homeworkProblemCounter}
}


\newcounter{programmingPartCounter}
\newcounter{programmingProblemCounter}

\setcounter{programmingProblemCounter}{1}
\nobreak\extramarks{Programming Problem \hmwkNumber \arabic{programmingProblemCounter}}{}\nobreak{}

%
% Programming Problem Environment
%
% This environment takes an optional argument. When given, it will adjust the
% problem counter. This is useful for when the problems given for your
% assignment aren't sequential. See the last 3 problems of this template for an
% example.
%
\newenvironment{programmingProblem}[1][-1]{
    \ifnum#1>0
        \setcounter{programmingProblemCounter}{\hmwkNumber.#1}
    \fi
    \section{Programming Problem \hmwkNumber.\arabic{programmingProblemCounter}}
    \setcounter{programmingPartCounter}{1}
    \enterProblemHeader{programmingProblemCounter}
}{
    \exitProblemHeader{programmingProblemCounter}
}

\title{
    \vspace{2in}
    \textmd{\textbf{\hmwkClass:\\ \hmwkTitle}}\\
    \normalsize\vspace{0.1in}\small{Due\ on\ \hmwkDueDate\ at 10:00}\\
    \vspace{3in}
}

\author{\groupName \\ \hmwkAuthorName}
\date{}

\renewcommand{\part}[1]{\textbf{\large Part \Alph{partCounter}}\stepcounter{partCounter}\\}

% Useful for algorithms
\newcommand{\alg}[1]{\textsc{\bfseries \footnotesize #1}}

% Alias for the Solution section header
\newcommand{\solution}{\textbf{\large Solution}}
\newcommand{\comment}[1]{} % Multi-line comment


\begin{document}
\maketitle
\pagebreak
\begin{homeworkProblem}
In this exercise, you work with two data sets:
\begin{itemize}
    \item \href{https://archive.ics.uci.edu/ml/datasets/Statlog+\%28Shuttle\%29}{Statlog (Shuttle) Data Set}
    \item \href{https://archive.ics.uci.edu/ml/datasets/Computer+Hardware}{Computer Hardware Data Set}
\end{itemize}
which are both available in the \href{https://archive.ics.uci.edu/ml/datasets.php}{UCI Machine Learning Repository}. For each of them, perform the following tasks:

\begin{enumerate}[a)]
    \item Briefly describe the data set and all involved variables in your own words. If some information is missing on the UCI Repository site, do your own search for these details.
    
        The data set of Statlog originated from NASA and concerns the position of radiators within space shuttles.
        Input samples are 9-dimensional vectors of continuous random variables. Output  samples  are 1-dimensional vectors of discrete random variable taking values from 1 to 7. The data was divided into a training set and a test set with 43500 samples in training set and 14500 in test set. Approximately 80\% of training data belongs to class 1. There are only 6 samples that belongs to class 6.
        
        The data set of Computer Hardware concerns the estimation of the relative performance of CPU based on the properties of the machine. The data set has 10 attributes, 6 predictive attributes describing the specifications for the memory and CPU cycles, 2 non-predictive attributes describing the vendor and the model name. There are 2 more attributes that provide the published relative performance and an estimated relative performance. The latter is not relevant as it is an output of a model that was created to predict the published relative performance.
    \item Model the data set via input and output random variables / vectors. 
    
        Data representation of Statlog data set:
        \begin{table}[h!]
            \centering
            \begin{tabular}{ll}
                \textbf{Input: } & $\mathbf{X}: \Omega \to \mathbb{R}^{9}$  \\
                 \textbf{Output: } &  $\mathbf{Y}: \Omega \to \mathbb{N}$
            \end{tabular}
        \end{table}
        
        The set of training data is represented as tuples containing the input feature and the output $\{(x_{i}, g_{i}) \}_{i=1}^{N}$
        
        Data representation of Computer Hardware data set:
        \begin{table}[h!]
            \centering
            \begin{tabular}{ll}
                \textbf{Input: } & $\mathbf{X}: \Omega \to \mathbb{R}^{6}$  \\
                 \textbf{Output: } &  $\mathbf{Y}: \Omega \to \mathbb{R}$
            \end{tabular}
        \end{table}
        
        The set of training data is represented as tuples containing the input feature and the output $\{(x_{i}, y_{i}) \}_{i=1}^{N}$
    \item Formulate a question that can be solved using machine learning on this data set and give the type of machine learning (supervised / unsupervised / regression / classification) that will allow to answer the question.
    
    The data set of Statlog was generated to extract rules for determining the conditions under which an auto landing would be preferable to manual control of a spacecraft. The task is to decide what type of control of the vessel should be employed. This is a supervised classification task.
    
    The data set of Computer Hardware can be used to predict the relative performance of the machine given the machine specifications. This is a supervised regression task.
\end{enumerate}
\end{homeworkProblem}

\begin{homeworkProblem}
The \href{https://archive.ics.uci.edu/ml/datasets/spambase}{Spambase Data Set} is a SPAM classification data set that has exactly the 57 input variables that are roughly described in Example 2.9 of the lecture.

\begin{enumerate}[a)]
    \item In Example 2.9, we did not mention the specific words and characters that are used in the features. Use the information of the UCI Repository to make a complete description of these variables, i.e. give all the key words, etc.
    
    The features of the data set are:
    
    \begin{table}[h!]
        \centering
        \begin{tabular}{l l l l}
word\_freq\_labs:         & continuous r.v & word\_freq\_make:         & continuous r.v  \\ 
word\_freq\_telnet:       & continuous r.v & word\_freq\_address:      & continuous r.v  \\ 
word\_freq\_857:          & continuous r.v & word\_freq\_all:          & continuous r.v  \\ 
word\_freq\_data:         & continuous r.v & word\_freq\_3d:           & continuous r.v  \\ 
word\_freq\_415:          & continuous r.v & word\_freq\_our:          & continuous r.v  \\ 
word\_freq\_85:           & continuous r.v & word\_freq\_over:         & continuous r.v  \\ 
word\_freq\_technology:   & continuous r.v & word\_freq\_remove:       & continuous r.v  \\ 
word\_freq\_1999:         & continuous r.v & word\_freq\_internet:     & continuous r.v  \\ 
word\_freq\_parts:        & continuous r.v & word\_freq\_order:        & continuous r.v  \\ 
word\_freq\_pm:           & continuous r.v & word\_freq\_mail:         & continuous r.v  \\ 
word\_freq\_direct:       & continuous r.v & word\_freq\_receive:      & continuous r.v  \\ 
word\_freq\_cs:           & continuous r.v & word\_freq\_will:         & continuous r.v  \\ 
word\_freq\_meeting:      & continuous r.v & word\_freq\_people:       & continuous r.v  \\ 
word\_freq\_original:     & continuous r.v & word\_freq\_report:       & continuous r.v  \\ 
word\_freq\_project:      & continuous r.v & word\_freq\_addresses:    & continuous r.v  \\ 
word\_freq\_re:           & continuous r.v & word\_freq\_free:         & continuous r.v  \\ 
word\_freq\_edu:          & continuous r.v & word\_freq\_business:     & continuous r.v  \\ 
word\_freq\_table:        & continuous r.v & word\_freq\_email:        & continuous r.v  \\ 
word\_freq\_conference:   & continuous r.v & word\_freq\_you:          & continuous r.v  \\ 
char\_freq\_;:            & continuous r.v & word\_freq\_credit:       & continuous r.v  \\ 
char\_freq\_(:            & continuous r.v & word\_freq\_your:         & continuous r.v  \\ 
char\_freq\_[:            & continuous r.v & word\_freq\_font:         & continuous r.v  \\ 
char\_freq\_!:            & continuous r.v & word\_freq\_000:          & continuous r.v  \\ 
char\_freq\_\$:            & continuous r.v & word\_freq\_money:        & continuous r.v  \\ 
char\_freq\_\#:            & continuous r.v & word\_freq\_hp:           & continuous r.v  \\ 
capital\_run\_length\_average: & continuous r.v & word\_freq\_hpl:          & continuous r.v  \\ 
capital\_run\_length\_longest: & continuous r.v & word\_freq\_george:       & continuous r.v  \\ 
capital\_run\_length\_total:   & continuous r.v & word\_freq\_650:          & continuous r.v  \\ 
word\_freq\_lab:          & continuous r.v  &


        \end{tabular}
    \end{table}
    
    The keywords are all of the substrings after the \texttt{word\_freq\_} part of the features that contain \texttt{word\_freq\_} in the beginning. The characters are \texttt{;, (, [, \!, \$, \#}. The frequencies of these keywords are captured. The remaining three features, \texttt{capital\_run\_length\_average}, \texttt{capital\_run\_length\_longest}, \texttt{capital\_run\_length\_total} capture the average length of capitalized sequences, the length of the longest capitalized sequence, and the number of capitalized letters in the email respectively.
    
    \item Search the web for alternative features that can be used to describe (SPAM) emails. Pick one example feature, cite the source, and describe these features.
    
    Some alternative features to describe SPAM email are :
    
    \begin{enumerate}
        \item From name - the name of the entity from which the email comes from
        \item From domain name - the name of the domain from which the email comes from
        \item Blocked IP - whether the email comes from a blocked IP address
        \item Apostrophe in From name - whether there is an apostrophe in the name of the entity from which the email comes from
        \item From address in User's Block list - whether the address from which the email comes from is in User's blocked list
        \item From address in User's White list - whether the address from which the email comes from is in User's white list
        \item Content Type - the type of content being transmitted by email (MIME)
        \item Content Boundary exists - whether the Content Boundary is present in the protocol's message
        \item From address and To address same - whether both the from address and to address of the email are the same
        \item Is subject present - whether the email contains a subject
        \item Subject content has obfuscate words = whether the subject of the email has obfuscated words
        \item Is forwarded message - whether the email has been forwarded
        \item Is reply message - whether the email is a reply to another email
        \item Subject Reply without reference header - whether the subject doesn't refer to a previous email exchange
        \item Sensual message - whether the email contains content considered as "sensual"
        \item Repeated double quotes in body - the number of times the email contains double quotes in its body
        \item Character set includes foreign language - whether the character set used in the email is part of a foreign language
        \item More blank lines in body - whether there are more than usual blank lines in the body of the message (consequent and more than one)
    \end{enumerate}
    
    These are a subset of the features that have been considered in the source. \cite{emailspamfiltering}
\end{enumerate}
\end{homeworkProblem}

\begin{programmingProblem}
Implement a code that reads a text file and extracts the 57 features discussed in the previous task. Apply the feature extractor to the provided three example emails.

The feature extractor has been implemented in the file \texttt{programming\_exercises.ipynb}. The interface of the class works by simply loading the desired file using its path based off of the current working directory, and then using the \texttt{extract} method to retrieve a map containing the output features and their values.

\begin{lstlisting}
featureExtractor = FeatureExtractor()
emails = os.listdir("./emails")

# load the email files from "emails" directory
for email in emails:
    featureExtractor.load("./emails/" + email)
    output_features_map = featureExtractor.extract()
\end{lstlisting}
\end{programmingProblem}

\printbibliography


\end{document}
